<html>
<head>
<title>Talking Chart Demo</title>
<script src='http://code.jquery.com/jquery-1.9.1.js'></script>
<script src="http://code.highcharts.com/highcharts.js"></script>
<script src="../TalkingChart.js"></script>
</head>
<body onLoad="initPage()" style="font-family: sans-serif">
<h1>Talking Chart Demo</h1>
<div id="highChartLocation"></div>
<p>
The area chart above is one of the <a href="http://www.highcharts.com/demo/area-basic">HighChart library's examples</a>. 
The text and button content below is generated by TalkingChart.js and is usually displayed in a hidden section on the page, so it's only heard on screen readers. Press Play to hear the audio representation of the chart.
</p>
<div id="talkingChartLocation"></div>
<script>
// Sample data for the chart
var series1Data = [null, null, null, null, null, 6 , 11, 32, 110, 235, 369, 640,
1005, 1436, 2063, 3057, 4618, 6444, 9822, 15468, 20434, 24126,
27387, 29459, 31056, 31982, 32040, 31233, 29224, 27342, 26662,
26956, 27912, 28999, 28965, 27826, 25579, 25722, 24826, 24605,
24304, 23464, 23708, 24099, 24357, 24237, 24401, 24344, 23586,
22380, 21004, 17287, 14747, 13076, 12555, 12144, 11009, 10950,
10871, 10824, 10577, 10527, 10475, 10421, 10358, 10295, 10104 ];
var series1Label = "USA";
var series2Data = [null, null, null, null, null, null, null , null , null ,null,
5, 25, 50, 120, 150, 200, 426, 660, 869, 1060, 1605, 2471, 3322,
4238, 5221, 6129, 7089, 8339, 9399, 10538, 11643, 13092, 14478,
15915, 17385, 19055, 21205, 23044, 25393, 27935, 30062, 32049,
33952, 35804, 37431, 39197, 45000, 43000, 41000, 39000, 37000,
35000, 33000, 31000, 29000, 27000, 25000, 24000, 23000, 22000,
21000, 20000, 19000, 18000, 18000, 17000, 16000];
var series2Label = "USSR/Russia";
// Kick off javascript
function initPage() {
initHighChart();
initTalkingChart();
}
// Create a chart on the page using HighCharts. This HighCharts demo can be seen at http://www.highcharts.com/demo/area-basic/sand-signika.
function initHighChart() {
$('#highChartLocation').highcharts({
chart: {
type: 'area'
},
title: {
text: 'US and USSR nuclear stockpiles'
},
subtitle: {
text: 'Source: <a href="http://thebulletin.metapress.com/content/c4120650912x74k7/fulltext.pdf">'+
'thebulletin.metapress.com</a>'
},
xAxis: {
allowDecimals: false,
labels: {
formatter: function() {
return this.value;
}
}
},
yAxis: {
title: {
text: 'Nuclear weapon states'
},
labels: {
formatter: function() {
return this.value / 1000 +'k';
}
}
},
tooltip: {
pointFormat: '{series.name} produced <b>{point.y:,.0f}</b><br/>warheads in {point.x}'
},
plotOptions: {
area: {
pointStart: 1940,
marker: {
enabled: false,
symbol: 'circle',
radius: 2,
states: {
hover: {
enabled: true
}
}
}
}
},
series: [{
name: series1Label,
data: series1Data
}, {
name: series2Label,
data: series2Data
}]
});
}
// Create a talking chart on the page, using the same data as the HighChart
function initTalkingChart() {
// Create an object to hold the parameters
var talkingChartParameters = {
// Id of the (normally hidden) html object in which to place the talking chart buttons and labels
containerId: 'talkingChartLocation',
// Whether or not to play both data series one after another, or at the same time
playVoicesConcurrently: true,
// Mono or stereo
separateVoicesInStereo: true,
// The text label that will be read first when a browser reaches the talking chart
announcement: 'Press play to hear the change in US and USSR nuclear stockpiles from 1940 to 2005, US in the left channel and USSR in the right channel.',
// The text label for the (usually hidden) play button
playButtonText: 'Play',debugMode: true,
// Define data to be played as audio. At least one voice should be defined.
voice1: {
// Reference to the data
data: series1Data,
// Play as a pulsed tone
playVoiceAsPulse: true
},
voice2: {
data: series2Data
}
};
// Create an instance of the TalkingChart object
var talkingChart = new TalkingChart(talkingChartParameters);
}
</script>
</body>
</html>